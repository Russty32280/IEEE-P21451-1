<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>P21451_TIM: Task Management Module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">P21451_TIM
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Basic TIM Architecture for a IEEE P21451 Transducer Network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__task.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Task Management Module</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Task Management Module implements a task queue and a task schedule.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga63e7ac0b07d5527e8110261f64661128"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#ga63e7ac0b07d5527e8110261f64661128">TASK_ROLL_TIME</a>&#160;&#160;&#160;(<a class="el" href="group__timing.html#ga0540485394df82add6b7c4f2137c7f21">TIME_MAX</a>-(uint32_t)10*24*60*60*1000)</td></tr>
<tr class="separator:ga63e7ac0b07d5527e8110261f64661128"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga08219bddd9fe09eb5192564ad47dad99"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#ga08219bddd9fe09eb5192564ad47dad99">task_fn_pointer_input_t</a>) (void *)</td></tr>
<tr class="separator:ga08219bddd9fe09eb5192564ad47dad99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga318336c763a22ea5f1c49c52ac5b6fe2"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a>) (void)</td></tr>
<tr class="memdesc:ga318336c763a22ea5f1c49c52ac5b6fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">default task type  <a href="#ga318336c763a22ea5f1c49c52ac5b6fe2">More...</a><br /></td></tr>
<tr class="separator:ga318336c763a22ea5f1c49c52ac5b6fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa6ab5350efe602f7bdfdca42aa57aff2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#gaa6ab5350efe602f7bdfdca42aa57aff2">Task_Init</a> (void)</td></tr>
<tr class="separator:gaa6ab5350efe602f7bdfdca42aa57aff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd2aa563748d1ede229e5867753ead5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick</a> (void)</td></tr>
<tr class="separator:gafd2aa563748d1ede229e5867753ead5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac52c4f77f95df13332873382c71e82dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#gac52c4f77f95df13332873382c71e82dc">Task_Queue</a> (<a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a> fn, void *pointer)</td></tr>
<tr class="memdesc:gac52c4f77f95df13332873382c71e82dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a function to the task queue.  <a href="#gac52c4f77f95df13332873382c71e82dc">More...</a><br /></td></tr>
<tr class="separator:gac52c4f77f95df13332873382c71e82dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbe36e55ccb027326512672c71bf7ff3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#gadbe36e55ccb027326512672c71bf7ff3">Task_Schedule</a> (<a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a> fn, void *pointer, <a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a> delay, <a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a> period)</td></tr>
<tr class="memdesc:gadbe36e55ccb027326512672c71bf7ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds task to be scheduled for execution.  <a href="#gadbe36e55ccb027326512672c71bf7ff3">More...</a><br /></td></tr>
<tr class="separator:gadbe36e55ccb027326512672c71bf7ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b397e2ec76a8f3899118305a113e76e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#ga7b397e2ec76a8f3899118305a113e76e">Task_Remove</a> (<a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a> fn, void *pointer)</td></tr>
<tr class="memdesc:ga7b397e2ec76a8f3899118305a113e76e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes Task.  <a href="#ga7b397e2ec76a8f3899118305a113e76e">More...</a><br /></td></tr>
<tr class="separator:ga7b397e2ec76a8f3899118305a113e76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51a214a49e3bca310762452c27c47c90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#ga51a214a49e3bca310762452c27c47c90">WaitMs</a> (<a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a> wait)</td></tr>
<tr class="separator:ga51a214a49e3bca310762452c27c47c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef3188aaf35028172b18eec278647c7e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task.html#gaef3188aaf35028172b18eec278647c7e">Task_IsScheduled</a> (<a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a> fn)</td></tr>
<tr class="separator:gaef3188aaf35028172b18eec278647c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Task Management Module implements a task queue and a task schedule. </p>
<p>The task queue is a single linked FIFO list. Each time <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a> is called the first task in the queue will execute. If the task is periodic it will be added back to the task schedule once it is ran.</p>
<p>The task schedule is a single linked list of tasks in order of when they are scheduled to run. If two tasks are scheduled for the same time there is no guarantee which task will run first. Each task scheduled has a timestamp which indicates when it ran last and the period if it is to be run again. If the task was just added to the schedule then time ran will indicate the time it should first nun minus the period. When <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a> is called it will check if any scheduled tasks are due to run and add them to the task queue when they are due.</p>
<p>UPDATED 10/4/2012 Remove functions were not interrupt safe -&gt; Fixed</p>
<p>UPDATED 2/18/2014 Fixed bug in linking multiple tasks at once and/or scheduling multiple tasks at once. Added extra checks to ensure task index is in range everytime the task array is accessed.</p>
<p>MAJOR UPDATE XXXX </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga63e7ac0b07d5527e8110261f64661128"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_ROLL_TIME&#160;&#160;&#160;(<a class="el" href="group__timing.html#ga0540485394df82add6b7c4f2137c7f21">TIME_MAX</a>-(uint32_t)10*24*60*60*1000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of tasks that can be added to the task queue or task schedule or task trigger list</p>
<p>Note: the task queue and task schedule list use the same array of tasks in implementing the linked lists. If the array becomes full the module will drop the task that is to be added.</p>
<p>Note: ifndef / define in C file The time when the task management system will force the timer to roll over</p>
<p>The task management module schedules tasks in the future by setting the time to run as some time in the future. Once the current time + the period exceeds TIME_MAX the task time to run will roll over and cause the task to run erroneously. Thus the task managemnent system must force the timing module's internal time to rollover prior to when it would natrually roll over (TIME_MAX). The default is 10 days prior to TIME_MAX which means the task managment system can only handle tasks scheduled within 10 days and no longer. </p>

<p>Definition at line <a class="el" href="task_8h_source.html#l00067">67</a> of file <a class="el" href="task_8h_source.html">task.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga08219bddd9fe09eb5192564ad47dad99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* task_fn_pointer_input_t) (void *)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>helpful typedef's for casting functions if you want to avoid the incompatible pointers warning </p>

<p>Definition at line <a class="el" href="task_8h_source.html#l00040">40</a> of file <a class="el" href="task_8h_source.html">task.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga318336c763a22ea5f1c49c52ac5b6fe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* task_fn_t) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>default task type </p>

<p>Definition at line <a class="el" href="task_8h_source.html#l00042">42</a> of file <a class="el" href="task_8h_source.html">task.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafd2aa563748d1ede229e5867753ead5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the first task in the task queue and check if any tasks are due to run in the schedule</p>
<p>Run the first task in the task queue provided one exists. If the task ran has a period value then it will be moved to the task schedule instead of removed.</p>
<p>Check if any of the scheduled tasks are due to run. If so move any tasks whose run time is at or before the current time to the task queue where they will be ordered by priority and executed accordingly.</p>
<p>If the Event Module is included check for events </p>

<p>Definition at line <a class="el" href="task_8c_source.html#l00068">68</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa6ab5350efe602f7bdfdca42aa57aff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Task_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize Task Management Module</p>
<p>Initializes the task management module for operation. </p>

<p>Definition at line <a class="el" href="task_8c_source.html#l00050">50</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaef3188aaf35028172b18eec278647c7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Task_IsScheduled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a task is scheduled or queued</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>function to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if task is scheduled or queued, 0 if not </dd></dl>

<p>Definition at line <a class="el" href="task_8c_source.html#l00172">172</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac52c4f77f95df13332873382c71e82dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Task_Queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a function to the task queue. </p>
<p><a class="el" href="group__task.html#gac52c4f77f95df13332873382c71e82dc" title="Adds a function to the task queue. ">Task_Queue()</a> adds a task to be run by the task management system to the queue. Use this function to add the function to be run</p>
<dl class="section author"><dt>Author</dt><dd>David Calhoun </dd>
<dd>
Tony Samaritano </dd>
<dd>
Aaron Johnson </dd>
<dd>
Michael Muhlbaier</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>Function Pointer - must have no return value, can have a pointer input or no input. If it has an input then you may want to cast it using (task_fn_pointer_input_t) to avoid compiler warning about </td></tr>
    <tr><td class="paramname">pointer</td><td>pointer to pass to the task when run. Set to 0 if the task has no input </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task_8c_source.html#l00095">95</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b397e2ec76a8f3899118305a113e76e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Task_Remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes Task. </p>
<p>RemoveTask() loops through the entire task management queue and schedule and removes that task from the task management system.</p>
<p>If the task could be in the list more than once then you should call Task_Remove as many times as you suspect the task may be in the list.</p>
<dl class="section author"><dt>Author</dt><dd>Aaron Johnson </dd>
<dd>
David Calhoun </dd>
<dd>
Tony Samaritano </dd>
<dd>
Michael Muhlbaier</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>Function Pointer - must have no return value, can have a pointer input or no input. If it has an input then you may want to cast it using (task_fn_pointer_input_t) to avoid compiler warning about </td></tr>
    <tr><td class="paramname">pointer</td><td>Input Pointer, if the function has no input pointer or if you want to remove all fn functions regardless of the pointer then make pointer 0 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task_8c_source.html#l00119">119</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadbe36e55ccb027326512672c71bf7ff3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Task_Schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__task.html#ga318336c763a22ea5f1c49c52ac5b6fe2">task_fn_t</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a>&#160;</td>
          <td class="paramname"><em>delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a>&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds task to be scheduled for execution. </p>
<p>This function adds a task that is scheduled for later time. Tasks are order strictly by their time (FIFO)</p>
<p>Note: tasks are not guaranteed to run at the exact time specified by delay and period. Timing will depend on how often <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a>. In properly designed systems <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a> should be called frequently enough to keep the number of tasks in the queue low so scheduled tasks are run on time.</p>
<dl class="section author"><dt>Author</dt><dd>Aaron Johnson </dd>
<dd>
David Calhoun </dd>
<dd>
Tony Samaritano </dd>
<dd>
Ryan Lee </dd>
<dd>
Michael Muhlbaier</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>Function Pointer - must have no return value, can have a pointer input or no input. If it has an input then you may want to cast it using (task_fn_pointer_input_t) to avoid compiler warning about </td></tr>
    <tr><td class="paramname">pointer</td><td>pointer to pass to the task when run. Set to 0 if the task has no input </td></tr>
    <tr><td class="paramname">delay</td><td>Delay before the task is first run </td></tr>
    <tr><td class="paramname">period</td><td>Period of how often the task is run (0 no rescheduling) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task_8c_source.html#l00106">106</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51a214a49e3bca310762452c27c47c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaitMs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__timing.html#gaef97c9386393beb1be4ed0b1513ee481">tint_t</a>&#160;</td>
          <td class="paramname"><em>wait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait a set number of milliseconds and run queued or scheduled tasks while waiting</p>
<p>WaitMs is similar to DelayMs from Timer Module, exception being that it repeatedly calls <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a> to allow functions to be run from the Queue and the Schedule to push tasks into the Queue.</p>
<dl class="section warning"><dt>Warning</dt><dd>not safe to be called from any function that could be called by <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a> - suggest using a dedicated mutex/flag and only use <a class="el" href="group__task.html#ga51a214a49e3bca310762452c27c47c90">WaitMs()</a> in main or functions called by main (not through <a class="el" href="group__task.html#gafd2aa563748d1ede229e5867753ead5d">SystemTick()</a>).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wait</td><td>time amount for the wait </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task_8c_source.html#l00161">161</a> of file <a class="el" href="task_8c_source.html">task.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
