<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>P21451_TIM: TIM_Core.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">P21451_TIM
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Basic TIM Architecture for a IEEE P21451 Transducer Network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_t_i_m___core_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TIM_Core.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core functionality for a P21451-2 TIM utilizing MSP430 Architecture.  
<a href="#details">More...</a></p>

<p><a href="_t_i_m___core_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_e_t_a___t_e_d_s.html">META_TEDS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all basic Information for the TIM; calls upon the <a class="el" href="_t_i_m1_8c.html#ab0bf2da84344cc59e76fdf07beb14e73" title="Initializes the MetaTEDS in RAM for use by the NCAP. ">MetaTEDSInit()</a> function in <a class="el" href="_t_i_m1_8h.html" title="User/Manufacturer defined file tuned specifically for the Transducer used. ">TIM1.h</a>.  <a href="struct_m_e_t_a___t_e_d_s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_h_a_n_n_e_l___t_e_d_s.html">CHANNEL_TEDS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all basic Information for each channel of a TIM; there needs to be N copies where N is the number of channels on the TIM.  <a href="struct_c_h_a_n_n_e_l___t_e_d_s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a83c524f684970472a9ae3ba181fdec80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_i_m___core_8h.html#a83c524f684970472a9ae3ba181fdec80">UART_CHANNEL</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a83c524f684970472a9ae3ba181fdec80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9caa1e61ee11742e57bfa36da2c187a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_i_m___core_8h.html#a9caa1e61ee11742e57bfa36da2c187a8">TIM_Init</a> (void)</td></tr>
<tr class="memdesc:a9caa1e61ee11742e57bfa36da2c187a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs UART and TEDS Initialization.  <a href="#a9caa1e61ee11742e57bfa36da2c187a8">More...</a><br /></td></tr>
<tr class="separator:a9caa1e61ee11742e57bfa36da2c187a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core functionality for a P21451-2 TIM utilizing MSP430 Architecture. </p>
<p>This file contains the core funcitonality to communicate from an NCAP to a TIM over UART. The current implementaiton is limited in its funcitonality, however, as more work is done, we will continue to update this file. The Transducer Interface Module (TIM) is one of the three main entities in a IEEE P21451 Smart Transducer Network. The heirarchy of this network can be seen in the figure below. This TIM will communicate to only ONE NCAP, however, it is not limited to just communication over UART.</p>
<p>Currently, this implementation only supports ReadTransducerChannelData, WriteTransducerChannelData, ReadMetaTEDS, and MetaTEDSInit. This was done to show the core functionality behind the network, and also lay out the foundation for future work.</p>
<p>To test out this code, open up a UART Channel with putty with Baud Rate 115200 and use the following syntax for sending messages:</p>
<p>"$XXX,YYY" Where XXX is a function ID, and YYY is a channel ID. Currently the only functionIDs supported are "000", "128", "160" for "Write to all transducers/Write to a specific Channel", "Read all Transducers/Read Specific Transducer", "Reading Meta/Channel TEDS" respectively. What determines which function each message commands (X/Y) is the ChannelID. If the ChannelID = 000, then it is assumed that the NCAP wants global functionality, otherwise it performs local functions.</p>
<p>Some of the functions will only reply over UART a success message which currently are place holders for the proper response.</p>
<p>It is reccomended that for testing the code, you turn on Local Echo and well as local line editing in your serial terminal.</p>
<div class="image">
<img src="P21451_Diagram.png" alt="P21451_Diagram.png"/>
</div>
<dl class="section author"><dt>Author</dt><dd>Russell Trafford </dd></dl>
<dl class="section date"><dt>Date</dt><dd>12/22/2015 </dd></dl>

<p>Definition in file <a class="el" href="_t_i_m___core_8h_source.html">TIM_Core.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a83c524f684970472a9ae3ba181fdec80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_CHANNEL&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default UART channel as laid out in <a class="el" href="uart_8c.html">UART.c</a>. </p>

<p>Definition at line <a class="el" href="_t_i_m___core_8h_source.html#l00044">44</a> of file <a class="el" href="_t_i_m___core_8h_source.html">TIM_Core.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9caa1e61ee11742e57bfa36da2c187a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TIM_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs UART and TEDS Initialization. </p>
<p>Initializes the TIM by registering the UART reciever as well as calling <a class="el" href="_t_i_m1_8c.html#ab0bf2da84344cc59e76fdf07beb14e73" title="Initializes the MetaTEDS in RAM for use by the NCAP. ">MetaTEDSInit()</a> to load the MetaTEDs into memory.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000039">Todo:</a></b></dt><dd><p class="startdd">Implement and call the ChannelTEDS Init funciton. </p>
<p class="enddd">Add in support for other connection mediums (NRF, SPI, etc). </p>
</dd></dl>

<p>Definition at line <a class="el" href="_t_i_m___core_8c_source.html#l00029">29</a> of file <a class="el" href="_t_i_m___core_8c_source.html">TIM_Core.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_t_i_m___core_8h.html">TIM_Core.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
